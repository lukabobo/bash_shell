# Chaper 1: Nhập môn

## 1.1. Hello world

Tạo file script

    vi hello-world.sh

Nội dung

    #!/bin/bash
    echo "Hello World"

Lưu va thoát. Thêm quyền thực thi cho script

    chmod +x hello-world.sh

Thực thi script với 1 trong các lệnh sau:

    ./hello-world.sh
    /bin/bash hello-world.sh
    bash hello-world.sh
    sh hello-world.sh

![Imgur](https://i.imgur.com/EyT787T.png)

## 1.2. Hello world với biến

Tạo file `hello.sh` có gán quyền thực thi (x).

Nhâp nội dung

    #!/usr/bin/env bash
    # Note that spaces cannot be used around the `=` assignment operator
    whom_variable="World"
    # Use printf to safely output the data
    printf "Hello, %s\n" "$whom_variable"
    #> Hello, World

whom_variable là biến, được gán là chữ World. Dùng $whom_variable để gọi biến

Chạy script

![Imgur](https://i.imgur.com/BUk4C0A.png)

Tạo 1 file `hello1.sh`, gán quyền thực thi. Nội dung file

    #!/usr/bin/env bash
    printf "Hello, %s\n" "$1"

$1 dòng lệnh đầu tiên ta nhập và sẽ được xuất ra thành một chuỗi (string) đã định dạng %s. \n là dấu cách.

Chạy script

![Imgur](https://i.imgur.com/17rOOk4.png)

Lưu ý: Chỉ có chuỗi đầu tiên sẽ được in ra màn hình khi sử dụng $1. Nếu muốn in một chuỗi có dấu cách, nên để ở trong ngoặc kép.

![Imgur](https://i.imgur.com/kK6AJYn.png)

## 1.3. Hello world sử dụng input của người dùng

Phần dưới đây sẽ yêu cầu người dùng nhập vào, và lưu input của người dùng dưới dạng string (text) trong một biến. Biến sẽ được dùng để phản hồi lại người dùng.

    #!/usr/bin/env bash
    echo "Who are you?"
    read name
    echo "Hello, $name."

Lệnh read đọc 1 dòng dữ liệu được nhập vào thành biến name. Gọi biến với $name và in ra màn hình với lện echo

![Imgur](https://i.imgur.com/u9YPeiH.png)

Ở đây người dùng nhập `Dung`, nội dung `Hello, Dung.` sẽ được in ra màn hình.

Nếu muốn nối một cái gì đó vào giá trị biến trong khi in nó, thì sử dụng dấu ngoặc nhọn xung quanh tên biến như được hiển thị trong ví dụ sau:

    #!/usr/bin/env bash
    echo "What are you doing?"
    read action
    echo "You are ${action}ing."

![Imgur](https://i.imgur.com/IoblPIp.png)

## 1.4. Sự quan trọng của trích dẫn trong chuỗi

Trích dẫn (gọi biến) rất quan trọng để mở rộng chuỗi trong bash. Với những thứ này, chúng ta có thể kiểm soát cách bash phân tích cú pháp và mở rộng chuỗi của chúng ta.

Có 2 kiểu trích dẫn:

- Yếu: sử dụng ngoặc kép: "
- Mạnh: sử dụng ngoặc đơn: '

Nếu muốn bash mở rộng đối số của mình, dùng trích dẫn yếu:

    #!/usr/bin/env bash
    world="World"
    echo "Hello $world"

Output

    [root@localhost opt]# ./hello.sh
    Hello World
    [root@localhost opt]#

Nếu không muốn bash mở rộng đối số, dùng trích dẫn mạnh:

    #!/usr/bin/env bash
    world="World"
    echo 'Hello $world'

Output

    [root@localhost opt]# ./hello.sh
    Hello $world
    [root@localhost opt]#

Chúng ta cũng có thể dùng dấu \ để ngăn việc mở rộng đối số: 

    #!/usr/bin/env bash
    world="World"
    echo "Hello \$world"

Output

    [root@localhost opt]# ./hello.sh
    Hello $world
    [root@localhost opt]#

## 1.5. Xem thông tin cho các tích hợp sẵn của bash

Dùng lệnh 

    help

ví dụ để in ra danh sách tất cả các tích hợn có sẵn với mô tả ngắn, dùng

    help -d

## 1.6. Hello world trong chế độ Debug

    [root@localhost opt]# cat hello.sh
    #!/bin/bash
    echo "Hello World"
    [root@localhost opt]# bash -x hello.sh
    + echo 'Hello World'
    Hello World
    [root@localhost opt]#

Đối số `-x` cho phép xem qua các dòng lệnh trong script. Ví dụ:

    [root@localhost opt]# cat hello.sh
    #!/bin/bash
    echo "Hello World\n"
    adding_string_to_number="s"
    v=$(expr 5 + $adding_string_to_number)
    [root@localhost opt]# ./hello.sh
    Hello World\n
    expr: non-integer argument
    [root@localhost opt]#

Hiển thị lỗi như trên khiến ta khó có thể phát hiện lỗi ở đâu trong script. Sử dụng cách ở dưới để tìm lỗi dễ dàng hơn:

    [root@localhost opt]# bash -x hello.sh
    + echo 'Hello World\n'
    Hello World\n
    + adding_string_to_number=s
    ++ expr 5 + s
    expr: non-integer argument
    + v=
    [root@localhost opt]#
