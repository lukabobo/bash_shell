# Chapter 19: Sourcing

## 19.1. Source một file

Cả source và thực thi script sẽ chạy các lệnh trong file script theo từng dòng, nếu gõ tay từng dòng vào.

Khác nhau giữa source và thực thi:

- Khi bạn thực thi script, bạn đang mở một shell mới, hãy nhập các lệnh trong shell mới, sao chép output trở lại shell hiện tại của bạn, sau đó đóng shell mới. Mọi thay đổi đối với môi trường sẽ chỉ có hiệu lực trong shell mới và sẽ mất đi khi shell mới được đóng lại.

- Khi bạn source script, bạn đang nhập các lệnh trong shell hiện tại của bạn. Mọi thay đổi đối với môi trường sẽ có hiệu lực và ở trong shell hiện tại của bạn.

"môi trường" là những thứ như thư mục làm việc hiện tại và các biến môi trường. cũng cài đặt shell (trong số những tính năng lịch sử và hoàn thành khác). Có nhiều hơn nữa nhưng đó là những thứ dễ thấy nhất.

Sử dụng mã nguồn nếu bạn muốn script thay đổi môi trường trong trình bao hiện đang chạy của bạn. Ngược lại thì sử dụng thực thi.

Nội dung file `sou.sh`

    #!/bin/bash
    export A="hello_world"
    alias sayHi="echo Hi"
    sayHello() {
        echo Hello
    }

Source file trên

    source sou.sh

Bây giờ ta đã có tất cả tài nguyên trong file trên

    [root@localhost ~]# echo $A
    hello_world
    [root@localhost ~]# sayHi
    Hi
    [root@localhost ~]# sayHello
    Hello
    [root@localhost ~]#

Lưu ý `.` đồng nghĩa với `source`. Ta có thể dùng `. sou.sh` thay cho `source sou.sh`
